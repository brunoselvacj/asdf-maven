#!/usr/bin/env bash

get_latest_stable_version() {
  curl -s https://maven.apache.org/docs/history.html | \
  grep -oE '<td>(<b>)?[0-9]+\.[0-9]+(\.[0-9]+)?(-[a-zA-Z0-9-]+)?(</b>)?</td>' | \
  sed -E 's/<\/?b>//g; s/<\/?td>//g' | \
  grep -vE 'SNAPSHOT|beta|alpha' | \
  sort -rV | \
  head -n 1
}

get_latest_stable_version